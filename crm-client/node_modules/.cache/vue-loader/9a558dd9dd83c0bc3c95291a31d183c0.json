{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/category/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/category/Form.vue","mtime":1601470421784},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgSXRlbUVkaXRBY3Rpb25zIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0L0l0ZW1FZGl0QWN0aW9ucycKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJdGVtRWRpdEFjdGlvbnMKICB9LAogIHByb3BzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXRlbTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiOiBudWxsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGVycm9yczogJ2NhdGVnb3J5L2Vycm9ycycKICAgIH0pLAogICAgbGFuZ3VhZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbGFuZ3VhZ2UvaXRlbXMnXSB8fCBbXQogICAgfQogICAgLy8gdHJhbnNsYXRpb25zOiB7CiAgICAvLyAgIGdldCgpIHsKICAgIC8vICAgICBsZXQgdHJhbnNsYXRpb25zID0gW10KICAgIC8vCiAgICAvLyAgICAgdGhpcy5sYW5ndWFnZXMuZm9yRWFjaChsYW5ndWFnZSA9PiB7CiAgICAvLyAgICAgICB0cmFuc2xhdGlvbnMucHVzaCh0aGlzLmZpbmRJdGVtKGxhbmd1YWdlKSkKICAgIC8vICAgICB9KQogICAgLy8KICAgIC8vICAgICByZXR1cm4gdHJhbnNsYXRpb25zCiAgICAvLyAgIH0KICAgIC8vIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExhbmd1YWdlcygpCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5yZXNldCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgcmVzZXQ6ICdjYXRlZ29yeS9yZXNldCcsCiAgICAgIGdldExhbmd1YWdlczogJ2xhbmd1YWdlL2dldEl0ZW1zJwogICAgfSksCiAgICBmaW5kSXRlbShsYW5ndWFnZSkgewogICAgICBsZXQgdHJhbnNsYXRpb24gPSB7CiAgICAgICAgbGFuZ3VhZ2UKICAgICAgfQoKICAgICAgdGhpcy5pdGVtLnRyYW5zbGF0aW9ucy5zb21lKGVsZW1lbnQgPT4gewogICAgICAgIGlmIChlbGVtZW50Lmxhbmd1YWdlLmNvZGUgPT09IGxhbmd1YWdlLmNvZGUpIHsKICAgICAgICAgIHRyYW5zbGF0aW9uID0gZWxlbWVudAogICAgICAgIH0KICAgICAgfSkKCiAgICAgIHJldHVybiB0cmFuc2xhdGlvbgogICAgfSwKICAgIHVwZGF0ZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NhdGVnb3J5L0NBVEVHT1JZX1VQREFURV9JVEVNJywgeyBbcHJvcGVydHldOiB2YWx1ZSB9KQogICAgfSwKICAgIHVwZGF0ZVRyYW5zbGF0ZWRWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIGxhbmd1YWdlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2F0ZWdvcnkvQ0FURUdPUllfVVBEQVRFX0lURU1fVFJBTlNMQVRJT04nLCB7CiAgICAgICAgcHJvcGVydHksCiAgICAgICAgdmFsdWUsCiAgICAgICAgbGFuZ3VhZ2UKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/pages/category","sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <v-tabs v-model=\"tab\" background-color=\"transparent\">\n      <v-tab\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        :href=\"'#tab-' + language.id\"\n        >{{ $t(language.name) }}</v-tab\n      >\n    </v-tabs>\n\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        class=\"my-4\"\n        :value=\"'tab-' + language.id\"\n      >\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"name\"\n          label=\"name\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-textarea\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"description\"\n          label=\"description\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n      </v-tab-item>\n    </v-tabs-items>\n\n    <div>\n      <form-select\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"parent\"\n        option-store=\"category\"\n        label=\"parent_name\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-number\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"position\"\n        label=\"position\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-checkbox\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"isActive\"\n        label=\"isActive\"\n        @formUpdated=\"updateValue\"\n      />\n    </div>\n\n    <item-edit-actions :item=\"item\" entity=\"Category\" path=\"category\" />\n  </form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport ItemEditActions from '../../components/layout/ItemEditActions'\n\nexport default {\n  components: {\n    ItemEditActions\n  },\n  props: {\n    handleSubmit: {\n      type: Function,\n      required: true\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      tab: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      errors: 'category/errors'\n    }),\n    languages() {\n      return this.$store.getters['language/items'] || []\n    }\n    // translations: {\n    //   get() {\n    //     let translations = []\n    //\n    //     this.languages.forEach(language => {\n    //       translations.push(this.findItem(language))\n    //     })\n    //\n    //     return translations\n    //   }\n    // }\n  },\n  created() {\n    this.getLanguages()\n  },\n  beforeDestroy() {\n    this.reset()\n  },\n  methods: {\n    ...mapActions({\n      reset: 'category/reset',\n      getLanguages: 'language/getItems'\n    }),\n    findItem(language) {\n      let translation = {\n        language\n      }\n\n      this.item.translations.some(element => {\n        if (element.language.code === language.code) {\n          translation = element\n        }\n      })\n\n      return translation\n    },\n    updateValue(property, value) {\n      this.$store.commit('category/CATEGORY_UPDATE_ITEM', { [property]: value })\n    },\n    updateTranslatedValue(property, value, language) {\n      this.$store.commit('category/CATEGORY_UPDATE_ITEM_TRANSLATION', {\n        property,\n        value,\n        language\n      })\n    }\n  }\n}\n</script>\n"]}]}