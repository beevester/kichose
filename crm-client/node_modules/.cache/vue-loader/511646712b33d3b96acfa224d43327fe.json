{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/text/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/text/Form.vue","mtime":1601470421814},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgSXRlbUVkaXRBY3Rpb25zIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0L0l0ZW1FZGl0QWN0aW9ucycKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJdGVtRWRpdEFjdGlvbnMKICB9LAogIHByb3BzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXRlbTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiOiBudWxsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGVycm9yczogJ3RleHQvZXJyb3JzJwogICAgfSksCiAgICBsYW5ndWFnZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydsYW5ndWFnZS9pdGVtcyddIHx8IFtdCiAgICB9CiAgICAvLyB0cmFuc2xhdGlvbnM6IHsKICAgIC8vICAgZ2V0KCkgewogICAgLy8gICAgIGxldCB0cmFuc2xhdGlvbnMgPSBbXQogICAgLy8KICAgIC8vICAgICB0aGlzLmxhbmd1YWdlcy5mb3JFYWNoKGxhbmd1YWdlID0+IHsKICAgIC8vICAgICAgIHRyYW5zbGF0aW9ucy5wdXNoKHRoaXMuZmluZEl0ZW0obGFuZ3VhZ2UpKQogICAgLy8gICAgIH0pCiAgICAvLwogICAgLy8gICAgIHJldHVybiB0cmFuc2xhdGlvbnMKICAgIC8vICAgfQogICAgLy8gfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExhbmd1YWdlcygpCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5yZXNldCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgcmVzZXQ6ICd0ZXh0L3Jlc2V0JywKICAgICAgZ2V0TGFuZ3VhZ2VzOiAnbGFuZ3VhZ2UvZ2V0SXRlbXMnCiAgICB9KSwKICAgIGZpbmRJdGVtKGxhbmd1YWdlKSB7CiAgICAgIGxldCB0cmFuc2xhdGlvbiA9IHsKICAgICAgICBsYW5ndWFnZQogICAgICB9CiAgICAgIHRoaXMuaXRlbS50cmFuc2xhdGlvbnMuc29tZShlbGVtZW50ID0+IHsKICAgICAgICBpZiAoZWxlbWVudC5sYW5ndWFnZS5jb2RlID09PSBsYW5ndWFnZS5jb2RlKSB7CiAgICAgICAgICB0cmFuc2xhdGlvbiA9IGVsZW1lbnQKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiB0cmFuc2xhdGlvbgogICAgfSwKICAgIHVwZGF0ZVZhbHVlKHByb3BlcnR5LCB2YWx1ZSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RleHQvVEVYVF9VUERBVEVfSVRFTScsIHsgW3Byb3BlcnR5XTogdmFsdWUgfSkKICAgIH0sCiAgICB1cGRhdGVUcmFuc2xhdGVkVmFsdWUocHJvcGVydHksIHZhbHVlLCBsYW5ndWFnZSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RleHQvVEVYVF9VUERBVEVfSVRFTV9UUkFOU0xBVElPTicsIHsKICAgICAgICBwcm9wZXJ0eSwKICAgICAgICB2YWx1ZSwKICAgICAgICBsYW5ndWFnZQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/pages/text","sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <v-tabs v-model=\"tab\" background-color=\"transparent\">\n      <v-tab\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        :href=\"'#tab-' + language.id\"\n        >{{ $t(language.name) }}</v-tab\n      >\n    </v-tabs>\n\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        class=\"my-4\"\n        :value=\"'tab-' + language.id\"\n      >\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"title\"\n          label=\"text_title\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-textarea\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"content\"\n          label=\"content\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"seoTitle\"\n          label=\"seoTitle\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"seoDescription\"\n          label=\"seoDescription\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"seoKeywords\"\n          label=\"seoKeywords\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-checkbox\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"isActive\"\n          label=\"isActive\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n      </v-tab-item>\n    </v-tabs-items>\n\n    <item-edit-actions :item=\"item\" entity=\"Text\" path=\"text\" />\n  </form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport ItemEditActions from '../../components/layout/ItemEditActions'\n\nexport default {\n  components: {\n    ItemEditActions\n  },\n  props: {\n    handleSubmit: {\n      type: Function,\n      required: true\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      tab: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      errors: 'text/errors'\n    }),\n    languages() {\n      return this.$store.getters['language/items'] || []\n    }\n    // translations: {\n    //   get() {\n    //     let translations = []\n    //\n    //     this.languages.forEach(language => {\n    //       translations.push(this.findItem(language))\n    //     })\n    //\n    //     return translations\n    //   }\n    // },\n  },\n  created() {\n    this.getLanguages()\n  },\n  beforeDestroy() {\n    this.reset()\n  },\n  methods: {\n    ...mapActions({\n      reset: 'text/reset',\n      getLanguages: 'language/getItems'\n    }),\n    findItem(language) {\n      let translation = {\n        language\n      }\n      this.item.translations.some(element => {\n        if (element.language.code === language.code) {\n          translation = element\n        }\n      })\n      return translation\n    },\n    updateValue(property, value) {\n      this.$store.commit('text/TEXT_UPDATE_ITEM', { [property]: value })\n    },\n    updateTranslatedValue(property, value, language) {\n      this.$store.commit('text/TEXT_UPDATE_ITEM_TRANSLATION', {\n        property,\n        value,\n        language\n      })\n    }\n  }\n}\n</script>\n"]}]}