{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/client/ClientAddresses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/client/ClientAddresses.vue","mtime":1601470421786},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgTW9kYWxBZGRyZXNzRm9ybSBmcm9tICcuL01vZGFsQWRkcmVzc0Zvcm0nCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBNb2RhbEFkZHJlc3NGb3JtIH0sCiAgcHJvcHM6IHsKICAgIHBhcmVudDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgYWRkcmVzc2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAnJywKICAgICAgaXRlbToge30sCiAgICAgIGNhbGxiYWNrOiAoKSA9PiAoe30pLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgeyB0ZXh0OiB0aGlzLiR0KCdpZCcpLCB2YWx1ZTogJ2lkJyB9LAogICAgICAgIHsgdGV4dDogdGhpcy4kdCgncG9zdENvZGUnKSwgdmFsdWU6ICdwb3N0Q29kZScgfSwKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdjb3VudHJ5X25hbWUnKSwKICAgICAgICAgIHZhbHVlOiAnY291bnRyeS5uYW1lJywKICAgICAgICAgIHR5cGU6ICdvYmplY3QnCiAgICAgICAgfSwKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoJ2NpdHlfbmFtZScpLCB2YWx1ZTogJ2NpdHknIH0sCiAgICAgICAgeyB0ZXh0OiB0aGlzLiR0KCdyZWdpb24nKSwgdmFsdWU6ICdyZWdpb24nIH0sCiAgICAgICAgeyB0ZXh0OiB0aGlzLiR0KCdkaXN0cmljdCcpLCB2YWx1ZTogJ2Rpc3RyaWN0JyB9LAogICAgICAgIHsgdGV4dDogdGhpcy4kdCgnc3RyZWV0JyksIHZhbHVlOiAnc3RyZWV0JyB9LAogICAgICAgIHsgdGV4dDogdGhpcy4kdCgnYnVpbGRpbmcnKSwgdmFsdWU6ICdidWlsZGluZycgfSwKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoJ2FwYXJ0bWVudCcpLCB2YWx1ZTogJ2FwYXJ0bWVudCcgfSwKICAgICAgICB7IHRleHQ6IHRoaXMuJHQoJ2NvbW1lbnQnKSwgdmFsdWU6ICdjb21tZW50JyB9LAogICAgICAgIHsgdGV4dDogJycsIHZhbHVlOiAnYWN0aW9ucycsIHNvcnRhYmxlOiBmYWxzZSB9CiAgICAgIF0sCiAgICAgIGtleTogMQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgIHJlbW92ZTogJ2FkZHJlc3MvcmVtb3ZlJywKICAgICAgdXBkYXRlSXRlbTogJ2FkZHJlc3MvdXBkYXRlJywKICAgICAgY3JlYXRlSXRlbTogJ2FkZHJlc3MvY3JlYXRlJwogICAgfSksCiAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgaWYgKHdpbmRvdy5jb25maXJtKHRoaXMuJHQoJ2RlbGV0ZV9hcmVfeW91X3N1cmUnKSkpIHsKICAgICAgICB0aGlzLnJlbW92ZShpdGVtKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHRvYXN0ci5zKAogICAgICAgICAgICB0aGlzLiR0KCdhZGRyZXNzX2RlbGV0ZWQnLCB7IGVudGl0eTogaXRlbS52YWx1ZSB9KSwKICAgICAgICAgICAgdGhpcy4kdCgnZGVsZXRlZCcpCiAgICAgICAgICApCgogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlZCcpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGdvdG8oaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdBZGRyZXNzU2hvdycsIHBhcmFtczogeyBpZDogaXRlbS5pZCB9IH0pCiAgICB9LAogICAgY3JlYXRlKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZHJlc3MvQUREUkVTU19VUERBVEVfSVRFTScsIHRoaXMucGFyZW50KQoKICAgICAgdGhpcy50aXRsZSA9IHRoaXMuJHQoJ2FkZHJlc3NfYWRkJykKCiAgICAgIHRoaXMuaXRlbSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2FkZHJlc3MvaXRlbSddCiAgICAgIHRoaXMuY2FsbGJhY2sgPSB0aGlzLmNyZWF0ZUl0ZW0KCiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIGVkaXQoaXRlbSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZHJlc3MvQUREUkVTU19TRVRfSVRFTScsIGl0ZW0pCgogICAgICB0aGlzLnRpdGxlID0gdGhpcy4kdCgnYWRkcmVzc19lZGl0JywgeyBlbnRpdHk6IGl0ZW0uaWQgfSkKICAgICAgdGhpcy5pdGVtID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snYWRkcmVzcy9pdGVtJ10KICAgICAgdGhpcy5jYWxsYmFjayA9IHRoaXMudXBkYXRlSXRlbQoKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICB9LAogICAgb25DbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgfSwKICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5rZXkrKwogICAgfQogIH0KfQo="},{"version":3,"sources":["ClientAddresses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClientAddresses.vue","sourceRoot":"src/pages/client","sourcesContent":["<template>\n  <v-row>\n    <v-col cols=\"12\" class=\"mb-4\">\n      <v-dialog v-model=\"dialog\" width=\"800\">\n        <template v-slot:activator=\"{ on }\">\n          <v-btn\n            class=\"mx-1\"\n            color=\"success\"\n            large\n            @click=\"create($event.target)\"\n          >\n            {{ $t('address_add') }}\n          </v-btn>\n        </template>\n\n        <modal-address-form\n          :key=\"key\"\n          :callback=\"callback\"\n          :title=\"title\"\n          :item=\"item\"\n          @dialog-close=\"onCloseDialog\"\n          @reset-form=\"resetForm\"\n          @addresses-changed=\"$emit('changed')\"\n        />\n      </v-dialog>\n    </v-col>\n\n    <v-col cols=\"12\">\n      <is-table\n        :headers=\"headers\"\n        :items=\"addresses\"\n        :hide-default-footer=\"true\"\n      >\n        <template v-slot:item.actions=\"{ item }\">\n          <v-row justify=\"end\">\n            <v-btn text small @click=\"goto(item, $event.target)\">\n              <v-icon color=\"primary\">remove_red_eye</v-icon>\n            </v-btn>\n            <v-btn text small @click=\"edit(item, $event.target)\">\n              <v-icon color=\"primary\">edit</v-icon>\n            </v-btn>\n            <v-btn text small @click=\"deleteItem(item)\">\n              <v-icon color=\"primary\">delete_forever</v-icon>\n            </v-btn>\n          </v-row>\n        </template>\n      </is-table>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport ModalAddressForm from './ModalAddressForm'\n\nexport default {\n  components: { ModalAddressForm },\n  props: {\n    parent: {\n      type: Object,\n      required: true\n    },\n    addresses: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      title: '',\n      item: {},\n      callback: () => ({}),\n      dialog: false,\n      headers: [\n        { text: this.$t('id'), value: 'id' },\n        { text: this.$t('postCode'), value: 'postCode' },\n        {\n          text: this.$t('country_name'),\n          value: 'country.name',\n          type: 'object'\n        },\n        { text: this.$t('city_name'), value: 'city' },\n        { text: this.$t('region'), value: 'region' },\n        { text: this.$t('district'), value: 'district' },\n        { text: this.$t('street'), value: 'street' },\n        { text: this.$t('building'), value: 'building' },\n        { text: this.$t('apartment'), value: 'apartment' },\n        { text: this.$t('comment'), value: 'comment' },\n        { text: '', value: 'actions', sortable: false }\n      ],\n      key: 1\n    }\n  },\n  methods: {\n    ...mapActions({\n      remove: 'address/remove',\n      updateItem: 'address/update',\n      createItem: 'address/create'\n    }),\n    deleteItem(item) {\n      if (window.confirm(this.$t('delete_are_you_sure'))) {\n        this.remove(item).then(() => {\n          this.$toastr.s(\n            this.$t('address_deleted', { entity: item.value }),\n            this.$t('deleted')\n          )\n\n          this.$emit('changed')\n        })\n      }\n    },\n    goto(item) {\n      this.$router.push({ name: 'AddressShow', params: { id: item.id } })\n    },\n    create() {\n      this.$store.commit('address/ADDRESS_UPDATE_ITEM', this.parent)\n\n      this.title = this.$t('address_add')\n\n      this.item = this.$store.getters['address/item']\n      this.callback = this.createItem\n\n      this.dialog = true\n    },\n    edit(item) {\n      this.$store.commit('address/ADDRESS_SET_ITEM', item)\n\n      this.title = this.$t('address_edit', { entity: item.id })\n      this.item = this.$store.getters['address/item']\n      this.callback = this.updateItem\n\n      this.dialog = true\n    },\n    onCloseDialog() {\n      this.dialog = false\n    },\n    resetForm() {\n      this.key++\n    }\n  }\n}\n</script>\n"]}]}