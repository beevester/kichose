{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/product/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/product/Form.vue","mtime":1601470421807},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgSXRlbUVkaXRBY3Rpb25zIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbGF5b3V0L0l0ZW1FZGl0QWN0aW9ucycKaW1wb3J0IGF4aW9zIGZyb20gJy4uLy4uL2ludGVyY2VwdG9yJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEl0ZW1FZGl0QWN0aW9ucwogIH0sCiAgcHJvcHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpdGVtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBheGlvcywKICAgICAgcm91dGU6IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTH0vaW1hZ2VzYCwKICAgICAgdGFiOiBudWxsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGVycm9yczogJ3Byb2R1Y3QvZXJyb3JzJwogICAgfSksCiAgICBsYW5ndWFnZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydsYW5ndWFnZS9pdGVtcyddIHx8IFtdCiAgICB9LAogICAgLy8gdHJhbnNsYXRpb25zOiB7CiAgICAvLyAgIGdldCgpIHsKICAgIC8vICAgICBsZXQgdHJhbnNsYXRpb25zID0gW10KICAgIC8vCiAgICAvLyAgICAgdGhpcy5sYW5ndWFnZXMuZm9yRWFjaChsYW5ndWFnZSA9PiB7CiAgICAvLyAgICAgICB0cmFuc2xhdGlvbnMucHVzaCh0aGlzLmZpbmRJdGVtKGxhbmd1YWdlKSkKICAgIC8vICAgICB9KQogICAgLy8KICAgIC8vICAgICByZXR1cm4gdHJhbnNsYXRpb25zCiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICBhdXRoSGVhZGVyKCkgewogICAgICByZXR1cm4gYEJlYXJlciAke3RoaXMuJHN0b3JlLnN0YXRlLmF1dGgudG9rZW59YAogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGFuZ3VhZ2VzKCkKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnJlc2V0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoewogICAgICByZXNldDogJ3Byb2R1Y3QvcmVzZXQnLAogICAgICBnZXRMYW5ndWFnZXM6ICdsYW5ndWFnZS9nZXRJdGVtcycKICAgIH0pLAogICAgZmluZEl0ZW0obGFuZ3VhZ2UpIHsKICAgICAgbGV0IHRyYW5zbGF0aW9uID0gewogICAgICAgIGxhbmd1YWdlCiAgICAgIH0KICAgICAgdGhpcy5pdGVtLnRyYW5zbGF0aW9ucy5zb21lKGVsZW1lbnQgPT4gewogICAgICAgIGlmIChlbGVtZW50Lmxhbmd1YWdlLmNvZGUgPT09IGxhbmd1YWdlLmNvZGUpIHsKICAgICAgICAgIHRyYW5zbGF0aW9uID0gZWxlbWVudAogICAgICAgIH0KICAgICAgfSkKICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uCiAgICB9LAogICAgdXBkYXRlVmFsdWUocHJvcGVydHksIHZhbHVlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncHJvZHVjdC9QUk9EVUNUX1VQREFURV9JVEVNJywgeyBbcHJvcGVydHldOiB2YWx1ZSB9KQogICAgfSwKICAgIHVwZGF0ZVRyYW5zbGF0ZWRWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIGxhbmd1YWdlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncHJvZHVjdC9QUk9EVUNUX1VQREFURV9JVEVNX1RSQU5TTEFUSU9OJywgewogICAgICAgIHByb3BlcnR5LAogICAgICAgIHZhbHVlLAogICAgICAgIGxhbmd1YWdlCiAgICAgIH0pCiAgICB9LAogICAgZm9ybUZpbGVVcGxvYWRlZChmaWxlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncHJvZHVjdC9QUk9EVUNUX0FERF9GSUxFJywgZmlsZSkKICAgIH0sCiAgICBmb3JtRmlsZURlbGV0ZWQodmFsdWUpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwcm9kdWN0L1BST0RVQ1RfREVMRVRFX0ZJTEUnLCB2YWx1ZSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/pages/product","sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <v-tabs v-model=\"tab\" background-color=\"transparent\">\n      <v-tab\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        :href=\"'#tab-' + language.id\"\n        >{{ $t(language.name) }}</v-tab\n      >\n    </v-tabs>\n\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        class=\"my-4\"\n        :value=\"'tab-' + language.id\"\n      >\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"name\"\n          label=\"name\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-textarea\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"description\"\n          label=\"description\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n      </v-tab-item>\n    </v-tabs-items>\n\n    <div>\n      <form-select\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"brand\"\n        option-store=\"brand\"\n        label=\"brand_name\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-input\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"ean\"\n        label=\"ean\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-select-autocomplete\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"category\"\n        option-store=\"category\"\n        label=\"category_name\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-input\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"video\"\n        label=\"video\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-file\n        :axios=\"axios\"\n        :errors=\"errors\"\n        :item=\"item\"\n        property=\"images\"\n        form-property=\"image\"\n        :route=\"route\"\n        :multiple=\"true\"\n        label=\"files\"\n        @formFileUploaded=\"formFileUploaded\"\n        @formFileDeleted=\"formFileDeleted\"\n      />\n      <form-checkbox\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"isActive\"\n        label=\"isActive\"\n        @formUpdated=\"updateValue\"\n      />\n    </div>\n\n    <item-edit-actions :item=\"item\" entity=\"Product\" path=\"product\" />\n  </form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport ItemEditActions from '../../components/layout/ItemEditActions'\nimport axios from '../../interceptor'\n\nexport default {\n  components: {\n    ItemEditActions\n  },\n  props: {\n    handleSubmit: {\n      type: Function,\n      required: true\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      axios,\n      route: `${process.env.VUE_APP_API_URL}/images`,\n      tab: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      errors: 'product/errors'\n    }),\n    languages() {\n      return this.$store.getters['language/items'] || []\n    },\n    // translations: {\n    //   get() {\n    //     let translations = []\n    //\n    //     this.languages.forEach(language => {\n    //       translations.push(this.findItem(language))\n    //     })\n    //\n    //     return translations\n    //   }\n    // },\n    authHeader() {\n      return `Bearer ${this.$store.state.auth.token}`\n    }\n  },\n  created() {\n    this.getLanguages()\n  },\n  beforeDestroy() {\n    this.reset()\n  },\n  methods: {\n    ...mapActions({\n      reset: 'product/reset',\n      getLanguages: 'language/getItems'\n    }),\n    findItem(language) {\n      let translation = {\n        language\n      }\n      this.item.translations.some(element => {\n        if (element.language.code === language.code) {\n          translation = element\n        }\n      })\n      return translation\n    },\n    updateValue(property, value) {\n      this.$store.commit('product/PRODUCT_UPDATE_ITEM', { [property]: value })\n    },\n    updateTranslatedValue(property, value, language) {\n      this.$store.commit('product/PRODUCT_UPDATE_ITEM_TRANSLATION', {\n        property,\n        value,\n        language\n      })\n    },\n    formFileUploaded(file) {\n      this.$store.commit('product/PRODUCT_ADD_FILE', file)\n    },\n    formFileDeleted(value) {\n      this.$store.commit('product/PRODUCT_DELETE_FILE', value)\n    }\n  }\n}\n</script>\n"]}]}