{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/thread-loader/dist/cjs.js!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/template/FilesTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/template/FilesTable.vue","mtime":1601470421812},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/.babelrc","mtime":1601470421774},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/thread-loader/dist/cjs.js","mtime":1601472830664},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpbGVzaXplIGZyb20gJy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlc2l6ZSc7CmltcG9ydCBheGlvcyBmcm9tICcuLi8uLi9pbnRlcmNlcHRvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRmlsZXNUYWJsZScsCiAgcHJvcHM6IHsKICAgIGZpbGVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2lkJyksCiAgICAgICAgdmFsdWU6ICdpZCcKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ29yaWdpbmFsTmFtZScpLAogICAgICAgIHZhbHVlOiAnb3JpZ2luYWxOYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgnc2l6ZScpLAogICAgICAgIHZhbHVlOiAnc2l6ZScKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ21pbWVUeXBlJyksCiAgICAgICAgdmFsdWU6ICdtaW1lVHlwZScKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2NyZWF0ZWRBdCcpLAogICAgICAgIHZhbHVlOiAnY3JlYXRlZEF0JywKICAgICAgICB0eXBlOiAnZGF0ZXRpbWUnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogJycsCiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBieXRlczogZnVuY3Rpb24gYnl0ZXMoc2l6ZSkgewogICAgICByZXR1cm4gZmlsZXNpemUoc2l6ZSk7CiAgICB9LAogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKGZpbGUpIHsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9maWxlcy9kb3dubG9hZC8iKS5jb25jYXQoZmlsZS5pZCksCiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJyAvLyBpbXBvcnRhbnQKCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSkpOwogICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IHVybDsKICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlLm9yaWdpbmFsTmFtZSk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FilesTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,OAAA,QAAA,MAAA,gCAAA;AACA,OAAA,KAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AADA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,cAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,UAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AACA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,WAAA,CADA;AAEA,QAAA,KAAA,EAAA,WAFA;AAGA,QAAA,IAAA,EAAA,UAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OALA,EAWA;AAAA,QAAA,IAAA,EAAA,EAAA;AAAA,QAAA,KAAA,EAAA,SAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAXA;AADA,KAAA;AAeA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,IADA,EACA;AACA,aAAA,QAAA,CAAA,IAAA,CAAA;AACA,KAHA;AAIA,IAAA,QAJA,oBAIA,IAJA,EAIA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,6BAAA,IAAA,CAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,YAAA,EAAA,MAHA,CAGA;;AAHA,OAAA,CAAA,CAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,IAAA,CAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,QAAA,IAAA,CAAA,IAAA,GAAA,GAAA;AACA,QAAA,IAAA,CAAA,YAAA,CAAA,UAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,QAAA,IAAA,CAAA,KAAA;AACA,OAXA;AAYA;AAjBA;AAzBA,CAAA","sourcesContent":["<template>\n  <is-table v-if=\"files.length\" :headers=\"headers\" :items=\"files\">\n    <template v-slot:item.size=\"{ item }\">\n      {{ bytes(item.size) }}\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <div class=\"text-right\">\n        <v-btn color=\"primary\" text x-small @click.stop=\"download(item)\">\n          <v-icon small class=\"mr-1\">\n            save_alt\n          </v-icon>\n          {{ $t('file_download') }}\n        </v-btn>\n      </div>\n    </template>\n  </is-table>\n</template>\n\n<script>\nimport filesize from '../../../node_modules/filesize'\nimport axios from '../../interceptor'\n\nexport default {\n  name: 'FilesTable',\n  props: {\n    files: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      headers: [\n        { text: this.$t('id'), value: 'id' },\n        { text: this.$t('originalName'), value: 'originalName' },\n        { text: this.$t('size'), value: 'size' },\n        { text: this.$t('mimeType'), value: 'mimeType' },\n        {\n          text: this.$t('createdAt'),\n          value: 'createdAt',\n          type: 'datetime',\n          sortable: false\n        },\n        { text: '', value: 'actions', sortable: false }\n      ]\n    }\n  },\n  methods: {\n    bytes(size) {\n      return filesize(size)\n    },\n    download(file) {\n      axios({\n        url: `${process.env.VUE_APP_API_URL}/files/download/${file.id}`,\n        method: 'GET',\n        responseType: 'blob' // important\n      }).then(response => {\n        const url = window.URL.createObjectURL(new Blob([response.data]))\n        const link = document.createElement('a')\n        link.href = url\n        link.setAttribute('download', file.originalName)\n        document.body.appendChild(link)\n        link.click()\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/pages/template"}]}