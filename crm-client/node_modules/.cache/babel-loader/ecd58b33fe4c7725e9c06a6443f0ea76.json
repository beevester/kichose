{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/product/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/product/Form.vue","mtime":1601470421807},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/.babelrc","mtime":1601470421774},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEl0ZW1FZGl0QWN0aW9ucyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xheW91dC9JdGVtRWRpdEFjdGlvbnMnOwppbXBvcnQgYXhpb3MgZnJvbSAnLi4vLi4vaW50ZXJjZXB0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSXRlbUVkaXRBY3Rpb25zOiBJdGVtRWRpdEFjdGlvbnMKICB9LAogIHByb3BzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXRlbTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXhpb3M6IGF4aW9zLAogICAgICByb3V0ZTogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwgIi9pbWFnZXMiKSwKICAgICAgdGFiOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgZXJyb3JzOiAncHJvZHVjdC9lcnJvcnMnCiAgfSksIHsKICAgIGxhbmd1YWdlczogZnVuY3Rpb24gbGFuZ3VhZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbGFuZ3VhZ2UvaXRlbXMnXSB8fCBbXTsKICAgIH0sCiAgICAvLyB0cmFuc2xhdGlvbnM6IHsKICAgIC8vICAgZ2V0KCkgewogICAgLy8gICAgIGxldCB0cmFuc2xhdGlvbnMgPSBbXQogICAgLy8KICAgIC8vICAgICB0aGlzLmxhbmd1YWdlcy5mb3JFYWNoKGxhbmd1YWdlID0+IHsKICAgIC8vICAgICAgIHRyYW5zbGF0aW9ucy5wdXNoKHRoaXMuZmluZEl0ZW0obGFuZ3VhZ2UpKQogICAgLy8gICAgIH0pCiAgICAvLwogICAgLy8gICAgIHJldHVybiB0cmFuc2xhdGlvbnMKICAgIC8vICAgfQogICAgLy8gfSwKICAgIGF1dGhIZWFkZXI6IGZ1bmN0aW9uIGF1dGhIZWFkZXIoKSB7CiAgICAgIHJldHVybiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudG9rZW4pOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExhbmd1YWdlcygpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMucmVzZXQoKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoewogICAgcmVzZXQ6ICdwcm9kdWN0L3Jlc2V0JywKICAgIGdldExhbmd1YWdlczogJ2xhbmd1YWdlL2dldEl0ZW1zJwogIH0pLCB7CiAgICBmaW5kSXRlbTogZnVuY3Rpb24gZmluZEl0ZW0obGFuZ3VhZ2UpIHsKICAgICAgdmFyIHRyYW5zbGF0aW9uID0gewogICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZQogICAgICB9OwogICAgICB0aGlzLml0ZW0udHJhbnNsYXRpb25zLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBpZiAoZWxlbWVudC5sYW5ndWFnZS5jb2RlID09PSBsYW5ndWFnZS5jb2RlKSB7CiAgICAgICAgICB0cmFuc2xhdGlvbiA9IGVsZW1lbnQ7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uOwogICAgfSwKICAgIHVwZGF0ZVZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwcm9kdWN0L1BST0RVQ1RfVVBEQVRFX0lURU0nLCBfZGVmaW5lUHJvcGVydHkoe30sIHByb3BlcnR5LCB2YWx1ZSkpOwogICAgfSwKICAgIHVwZGF0ZVRyYW5zbGF0ZWRWYWx1ZTogZnVuY3Rpb24gdXBkYXRlVHJhbnNsYXRlZFZhbHVlKHByb3BlcnR5LCB2YWx1ZSwgbGFuZ3VhZ2UpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwcm9kdWN0L1BST0RVQ1RfVVBEQVRFX0lURU1fVFJBTlNMQVRJT04nLCB7CiAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LAogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UKICAgICAgfSk7CiAgICB9LAogICAgZm9ybUZpbGVVcGxvYWRlZDogZnVuY3Rpb24gZm9ybUZpbGVVcGxvYWRlZChmaWxlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncHJvZHVjdC9QUk9EVUNUX0FERF9GSUxFJywgZmlsZSk7CiAgICB9LAogICAgZm9ybUZpbGVEZWxldGVkOiBmdW5jdGlvbiBmb3JtRmlsZURlbGV0ZWQodmFsdWUpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwcm9kdWN0L1BST0RVQ1RfREVMRVRFX0ZJTEUnLCB2YWx1ZSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,eAAA,MAAA,yCAAA;AACA,OAAA,KAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,QADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAJA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,KAAA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,YAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAKA,GApBA;AAqBA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,MAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,SAJA,uBAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,gBAAA,KAAA,EAAA;AACA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,UAlBA,wBAkBA;AACA,8BAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA;AApBA,IArBA;AA2CA,EAAA,OA3CA,qBA2CA;AACA,SAAA,YAAA;AACA,GA7CA;AA8CA,EAAA,aA9CA,2BA8CA;AACA,SAAA,KAAA;AACA,GAhDA;AAiDA,EAAA,OAAA,oBACA,UAAA,CAAA;AACA,IAAA,KAAA,EAAA,eADA;AAEA,IAAA,YAAA,EAAA;AAFA,GAAA,CADA;AAKA,IAAA,QALA,oBAKA,QALA,EAKA;AACA,UAAA,WAAA,GAAA;AACA,QAAA,QAAA,EAAA;AADA,OAAA;AAGA,WAAA,IAAA,CAAA,YAAA,CAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,OAAA,CAAA,QAAA,CAAA,IAAA,KAAA,QAAA,CAAA,IAAA,EAAA;AACA,UAAA,WAAA,GAAA,OAAA;AACA;AACA,OAJA;AAKA,aAAA,WAAA;AACA,KAfA;AAgBA,IAAA,WAhBA,uBAgBA,QAhBA,EAgBA,KAhBA,EAgBA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,6BAAA,sBAAA,QAAA,EAAA,KAAA;AACA,KAlBA;AAmBA,IAAA,qBAnBA,iCAmBA,QAnBA,EAmBA,KAnBA,EAmBA,QAnBA,EAmBA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,yCAAA,EAAA;AACA,QAAA,QAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA,KAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAAA;AAKA,KAzBA;AA0BA,IAAA,gBA1BA,4BA0BA,IA1BA,EA0BA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,0BAAA,EAAA,IAAA;AACA,KA5BA;AA6BA,IAAA,eA7BA,2BA6BA,KA7BA,EA6BA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,6BAAA,EAAA,KAAA;AACA;AA/BA;AAjDA,CAAA","sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <v-tabs v-model=\"tab\" background-color=\"transparent\">\n      <v-tab\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        :href=\"'#tab-' + language.id\"\n        >{{ $t(language.name) }}</v-tab\n      >\n    </v-tabs>\n\n    <v-tabs-items v-model=\"tab\">\n      <v-tab-item\n        v-for=\"language in languages\"\n        :key=\"language.id\"\n        class=\"my-4\"\n        :value=\"'tab-' + language.id\"\n      >\n        <form-input\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"name\"\n          label=\"name\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n        <form-textarea\n          :item=\"findItem(language)\"\n          :errors=\"errors\"\n          property=\"description\"\n          label=\"description\"\n          @formUpdated=\"\n            (property, value) =>\n              updateTranslatedValue(property, value, language)\n          \"\n        />\n      </v-tab-item>\n    </v-tabs-items>\n\n    <div>\n      <form-select\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"brand\"\n        option-store=\"brand\"\n        label=\"brand_name\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-input\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"ean\"\n        label=\"ean\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-select-autocomplete\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"category\"\n        option-store=\"category\"\n        label=\"category_name\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-input\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"video\"\n        label=\"video\"\n        @formUpdated=\"updateValue\"\n      />\n      <form-file\n        :axios=\"axios\"\n        :errors=\"errors\"\n        :item=\"item\"\n        property=\"images\"\n        form-property=\"image\"\n        :route=\"route\"\n        :multiple=\"true\"\n        label=\"files\"\n        @formFileUploaded=\"formFileUploaded\"\n        @formFileDeleted=\"formFileDeleted\"\n      />\n      <form-checkbox\n        :item=\"item\"\n        :errors=\"errors\"\n        property=\"isActive\"\n        label=\"isActive\"\n        @formUpdated=\"updateValue\"\n      />\n    </div>\n\n    <item-edit-actions :item=\"item\" entity=\"Product\" path=\"product\" />\n  </form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport ItemEditActions from '../../components/layout/ItemEditActions'\nimport axios from '../../interceptor'\n\nexport default {\n  components: {\n    ItemEditActions\n  },\n  props: {\n    handleSubmit: {\n      type: Function,\n      required: true\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      axios,\n      route: `${process.env.VUE_APP_API_URL}/images`,\n      tab: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      errors: 'product/errors'\n    }),\n    languages() {\n      return this.$store.getters['language/items'] || []\n    },\n    // translations: {\n    //   get() {\n    //     let translations = []\n    //\n    //     this.languages.forEach(language => {\n    //       translations.push(this.findItem(language))\n    //     })\n    //\n    //     return translations\n    //   }\n    // },\n    authHeader() {\n      return `Bearer ${this.$store.state.auth.token}`\n    }\n  },\n  created() {\n    this.getLanguages()\n  },\n  beforeDestroy() {\n    this.reset()\n  },\n  methods: {\n    ...mapActions({\n      reset: 'product/reset',\n      getLanguages: 'language/getItems'\n    }),\n    findItem(language) {\n      let translation = {\n        language\n      }\n      this.item.translations.some(element => {\n        if (element.language.code === language.code) {\n          translation = element\n        }\n      })\n      return translation\n    },\n    updateValue(property, value) {\n      this.$store.commit('product/PRODUCT_UPDATE_ITEM', { [property]: value })\n    },\n    updateTranslatedValue(property, value, language) {\n      this.$store.commit('product/PRODUCT_UPDATE_ITEM_TRANSLATION', {\n        property,\n        value,\n        language\n      })\n    },\n    formFileUploaded(file) {\n      this.$store.commit('product/PRODUCT_ADD_FILE', file)\n    },\n    formFileDeleted(value) {\n      this.$store.commit('product/PRODUCT_DELETE_FILE', value)\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/pages/product"}]}