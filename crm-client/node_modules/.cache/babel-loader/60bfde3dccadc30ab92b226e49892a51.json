{"remainingRequest":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/client/ClientContacts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/src/pages/client/ClientContacts.vue","mtime":1601470421786},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/.babelrc","mtime":1601470421774},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/babel-loader/lib/index.js","mtime":1601472829745},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/cache-loader/dist/cjs.js","mtime":1601472830261},{"path":"/Users/beevester/PhpstormProjects/kichoseCrm/inshop-crm-client/node_modules/vue-loader/lib/index.js","mtime":1601472869555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IE1vZGFsQ29udGFjdEZvcm0gZnJvbSAnLi9Nb2RhbENvbnRhY3RGb3JtJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsQ29udGFjdEZvcm06IE1vZGFsQ29udGFjdEZvcm0KICB9LAogIHByb3BzOiB7CiAgICBwYXJlbnQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNvbnRhY3RzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJycsCiAgICAgIGl0ZW06IHt9LAogICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9LAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2lkJyksCiAgICAgICAgdmFsdWU6ICdpZCcKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2NvbnRhY3RfdmFsdWUnKSwKICAgICAgICB2YWx1ZTogJ3ZhbHVlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgnY29udGFjdFR5cGVfbmFtZScpLAogICAgICAgIHZhbHVlOiAnY29udGFjdFR5cGUubmFtZScsCiAgICAgICAgdHlwZTogJ29iamVjdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICcnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICBrZXk6IDEKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIHJlbW92ZTogJ2NvbnRhY3QvcmVtb3ZlJywKICAgIHVwZGF0ZUl0ZW06ICdjb250YWN0L3VwZGF0ZScsCiAgICBjcmVhdGVJdGVtOiAnY29udGFjdC9jcmVhdGUnCiAgfSksIHsKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHdpbmRvdy5jb25maXJtKHRoaXMuJHQoJ2RlbGV0ZV9hcmVfeW91X3N1cmUnKSkpIHsKICAgICAgICB0aGlzLnJlbW92ZShpdGVtKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdHIucyhfdGhpcy4kdCgnY29udGFjdF9kZWxldGVkJywgewogICAgICAgICAgICBlbnRpdHk6IGl0ZW0udmFsdWUKICAgICAgICAgIH0pLCBfdGhpcy4kdCgnZGVsZXRlZCcpKTsKCiAgICAgICAgICBfdGhpcy4kZW1pdCgnY2hhbmdlZCcpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ290bzogZnVuY3Rpb24gZ290byhpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnQ29udGFjdFNob3cnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NvbnRhY3QvQ09OVEFDVF9VUERBVEVfSVRFTScsIHRoaXMucGFyZW50KTsKICAgICAgdGhpcy50aXRsZSA9IHRoaXMuJHQoJ2NvbnRhY3RfYWRkJyk7CiAgICAgIHRoaXMuaXRlbSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvbnRhY3QvaXRlbSddOwogICAgICB0aGlzLmNhbGxiYWNrID0gdGhpcy5jcmVhdGVJdGVtOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChpdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY29udGFjdC9DT05UQUNUX1NFVF9JVEVNJywgaXRlbSk7CiAgICAgIHRoaXMudGl0bGUgPSB0aGlzLiR0KCdjb250YWN0X2VkaXQnLCB7CiAgICAgICAgZW50aXR5OiBpdGVtLnZhbHVlCiAgICAgIH0pOwogICAgICB0aGlzLml0ZW0gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjb250YWN0L2l0ZW0nXTsKICAgICAgdGhpcy5jYWxsYmFjayA9IHRoaXMudXBkYXRlSXRlbTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIG9uQ2xvc2VEaWFsb2c6IGZ1bmN0aW9uIG9uQ2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMua2V5Kys7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["ClientContacts.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-row>\n    <v-col cols=\"12\" class=\"mb-4\">\n      <v-dialog v-model=\"dialog\" width=\"600\">\n        <template v-slot:activator=\"{ on }\">\n          <v-btn\n            class=\"mx-1\"\n            color=\"success\"\n            large\n            @click=\"create($event.target)\"\n          >\n            {{ $t('contact_add') }}\n          </v-btn>\n        </template>\n\n        <modal-contact-form\n          :key=\"key\"\n          :callback=\"callback\"\n          :title=\"title\"\n          :item=\"item\"\n          @dialog-close=\"onCloseDialog\"\n          @reset-form=\"resetForm\"\n          @contacts-changed=\"$emit('changed')\"\n        />\n      </v-dialog>\n    </v-col>\n\n    <v-col cols=\"12\">\n      <is-table\n        :headers=\"headers\"\n        :items=\"contacts\"\n        :hide-default-footer=\"true\"\n      >\n        <template v-slot:item.actions=\"{ item }\">\n          <v-row justify=\"end\">\n            <v-btn text small @click=\"goto(item, $event.target)\">\n              <v-icon color=\"primary\">remove_red_eye</v-icon>\n            </v-btn>\n            <v-btn text small @click=\"edit(item, $event.target)\">\n              <v-icon color=\"primary\">edit</v-icon>\n            </v-btn>\n            <v-btn text small @click=\"deleteItem(item)\">\n              <v-icon color=\"primary\">delete_forever</v-icon>\n            </v-btn>\n          </v-row>\n        </template>\n      </is-table>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport ModalContactForm from './ModalContactForm'\n\nexport default {\n  components: { ModalContactForm },\n  props: {\n    parent: {\n      type: Object,\n      required: true\n    },\n    contacts: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      title: '',\n      item: {},\n      callback: () => ({}),\n      dialog: false,\n      headers: [\n        { text: this.$t('id'), value: 'id' },\n        { text: this.$t('contact_value'), value: 'value' },\n        {\n          text: this.$t('contactType_name'),\n          value: 'contactType.name',\n          type: 'object'\n        },\n        { text: '', value: 'actions', sortable: false }\n      ],\n      key: 1\n    }\n  },\n  methods: {\n    ...mapActions({\n      remove: 'contact/remove',\n      updateItem: 'contact/update',\n      createItem: 'contact/create'\n    }),\n    deleteItem(item) {\n      if (window.confirm(this.$t('delete_are_you_sure'))) {\n        this.remove(item).then(() => {\n          this.$toastr.s(\n            this.$t('contact_deleted', { entity: item.value }),\n            this.$t('deleted')\n          )\n\n          this.$emit('changed')\n        })\n      }\n    },\n    goto(item) {\n      this.$router.push({ name: 'ContactShow', params: { id: item.id } })\n    },\n    create() {\n      this.$store.commit('contact/CONTACT_UPDATE_ITEM', this.parent)\n\n      this.title = this.$t('contact_add')\n      this.item = this.$store.getters['contact/item']\n      this.callback = this.createItem\n\n      this.dialog = true\n    },\n    edit(item) {\n      this.$store.commit('contact/CONTACT_SET_ITEM', item)\n\n      this.title = this.$t('contact_edit', { entity: item.value })\n      this.item = this.$store.getters['contact/item']\n      this.callback = this.updateItem\n\n      this.dialog = true\n    },\n    onCloseDialog() {\n      this.dialog = false\n    },\n    resetForm() {\n      this.key++\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/pages/client"}]}